---
layout: default
title: Getting started
parent: Threat Intelligence
nav_order: 41
---

# Getting started

Use the following steps to get started with threat intelligence in OpenSearch Dashboards.

## Using threat intelligence

You can interact with threat intelligence in the following ways:

- OpenSearch Dashboards
- [Threat intelligence API]({{site.url}}{{site.baseurl}}/security-analytics/threat-intelligence/api/threat-intel-api/).

## Step 1: Set up threat intelligence sources

If you want to simply try out threat intelligence, you use the default IP reputation feed from [AlienVault OTX](https://otx.alienvault.com/). <!----what does this mean?----!>

You can add a custom threat intelligence source, use the `S3_CUSTOM` type <!---how does one set the type---!>, using the following steps:

To add a custom threat intelligence source, select **Add threat intel source** from the threat intelligence page. The **Add custom threat intelligence source** page appears. 

1. Upload threat intelligence feed as files to your S3 account and provide OpenSearch with the IAM Role ARN to access that file. The file should contain IoC's in the `STIX2` format. The supported IoC Types are `hashes`, `ipv4-addr`, `domain-name`, `ipv6-addr`. 
2. In OpenSearch Dashboards, create a threat intelligence source with following information: 
   - The S3 bucket details 
   - The IAM Role ARN 
3. With the source created, connect and download IoC's into OpenSearch using one of the following methods: 
   - Define a refresh schedule and periodically upload the latest batch of IoC's to S3 and replace the old file. During the refresh period, OpenSearch downloads the latest IoC's. 
   - Upload a one-time file using the `IOC_UPLOAD` type. This type does not have a refresh schedule and must use the [Source API]({{site.url}}{{site.baseurl}}/security-analytics/threat-intelligence/api/source/).

## Step 2: Configure Threat Intelligence Monitor

You can configure threat intelligence monitors to use with your aliases and data streams. The monitor scans for newly ingested data from your indexes and matches tat data against any IoC's present in threat intelligence monitors. By default, the scan runs every minute.

When malicious IoC's are found, OpenSearch creates **findings**, which gives information about the threat. You can also configure triggers with the monitors to create alerts, which sends notifications to configured webhooks or endpoints.

For every alias or data stream configured in the monitor, you're required to mention any fields that must be scanned for each of IoC. For example, if an alias has two fields called `src_ip` and `dst_ip` which contain `ipv4` addresses, those fields must be entered into the `ipv4-addr` section of the monitor request.

<!--- is there a way to do this in the UI--->


### Step 3: Findings Alerts and Notifications

You can view the findings and alerts generated by threat intelligence monitors to analyze which malicious indicators have occurred in their security logs.

Alerts can be acknowledged or marked as completed. Notifications sent out to any configured destinations will contain information about alerts, monitor, data sources, IoC values, and types. Notification message can be customize using a [mustache template](https://mustache.github.io/mustache.5.html).